package agazati;

import javax.swing.*;

public class Updater extends SwingWorker<Double, Object> {

    public Double doInBackground() {
     /* Calculator példány létrehozása.

	   ciklus, amíg a calculator work() metódusa 100-nál kisebb értékkel 
	   tér vissza. Ezt az értéket fel kell használni a progress 
	   állításához.

	   ha futás közben cancellálnak (isCancelled() true), akkor
	   meg kell szakítani a futást.

	   A végén vissza kell adni a számítás eredményét (calculator
	   get() metódusa).

	 */
    	
    	Calculator calc = new Calculator();
		
		while(calc.work() < 101) {			
			this.setProgress(calc.work()); // fire property changed
			
			if(this.isCancelled())
				this.cancel(true);
				calc.cancel();
				return new Double(0.0); // vagy null?
		}
    	
    	return calc.get();
    }
}
